configuration:
  runtime: "concord-v2"
  dependencies:
    - mvn://com.acme.concord:awesome-task:4.2.0
    - https://acme.com/awesome-zip.zip
  arguments:
    foo: "bar"
    baz:
      nested:
        x:
          y:
            z: 123
    aFloat: 3.141519
  debug: true
  processTimeout: PT15M
  requirements:
    agent:
      capableOf: "everything"

flows:
  default:
    - log: "Hello!"
    - task: awesome-task
      in:
        a: 123
        b: "345"
      out: result
      ignoreErrors: true
    - name: Awesome!
      task: awesome-task
      out:
        result: ${result.foo}
      error:
        - log: Boom, ${lastError}!
        - throw: ${lastError}!
    - name: "Boo!"
      expr: ${boo}
      meta:
        foobar: "barbaz"
      error:
        - log: "${lastError}"
      out: exprOut
  myOtherFlow:
    - log: "Bye!"
    - task: somethingElse
      loop:
        items: ["a", "b", 123]
        mode: "parallel"
        parallelism: 128
      meta:
        foo: "bar"
      retry:
        delay: 10
        times: 3
        in:
          baz: "qux"

forms:
  myForm:
    - firstName:
        type: string
    - lastName: { type: string }
  myOtherForm:
    - age:
        type: int+
